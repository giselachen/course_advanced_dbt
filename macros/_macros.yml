version: 2

macros:
  - name: cents_to_dollars
    description: A macro to convert cents to dollars
    arguments:
      - name: column_name
        type: string
        description: The name of the column the users want to convert

  - name: rolling_aggregation_n_periods
    description: A macro to generate aggregation of the rolling n periods
    arguments:
      - name: column_name
        type: string
        description: The name of the column the users want to aggregate on.
      - name: partition_by
        type: string
        description: The name of the column the users want to partition the aggregation on.
      - name: order_by
        type: string
        description: The name of the column the users want to order the partition on.
      - name: aggregation
        type: string
        description: The type of the mathematical operation for the aggregation.
      - name: n
        type: int
        description: The number of the rolling period.

  - name: get_current_user_subscription_properties
    description: |
        A macro to get a subset of fct_mrr data where is_subscribed_current_month is true.
        It then takes the function_name provided and return the value of the column_name partitioned
        by user_id and subscription_id
    arguments:
      - name: function_name
        type: string
        description: The name of the aggregate function for desired output.
      - name: column_name
        type: string
        description: The column name to be passed into the function above.
